const PROFILE={name:"Isaac",email:"youremail@example.com",github:"https://github.com/iortiz786",linkedin:"https://www.linkedin.com/",resumePath:"resume.pdf"};const $=e=>document.querySelector(e),$all=e=>Array.from(document.querySelectorAll(e));function showToast(e){const t=$("#toast");t&&(t.textContent=e||"Done.",t.classList.add("show"),clearTimeout(showToast._timer),showToast._timer=setTimeout(()=>t.classList.remove("show"),1400))}async function copyToClipboard(e){try{await navigator.clipboard.writeText(e),showToast("Copied.")}catch(t){const o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),showToast("Copied.")}}function setActiveNav(){const e=(location.pathname.split("/").pop()||"index.html").toLowerCase();$all(".navlinks a").forEach(t=>{(t.getAttribute("href")||"").toLowerCase()===e&&t.classList.add("active")})}function wireProfile(){const e=$("#brandName");e&&(e.textContent=PROFILE.name);const t=$("#footerName");t&&(t.textContent=PROFILE.name);const o=$("#emailText");o&&(o.textContent=PROFILE.email),$all('[data-mailto="1"]').forEach(e=>e.setAttribute("href","mailto:"+PROFILE.email));const n=$("#ghLink");n&&(n.href=PROFILE.github);const r=$("#liLink");r&&(r.href=PROFILE.linkedin);[$("#resumeLink"),$("#resumeLinkTop"),$("#resumeLinkSheet")].filter(Boolean).forEach(e=>{e.href=PROFILE.resumePath||"#",e.addEventListener("click",t=>{PROFILE.resumePath&&"#"!==PROFILE.resumePath||(t.preventDefault(),showToast("Upload resume.pdf first."))})}),$all('[data-copy-email="1"]').forEach(e=>{e.addEventListener("click",()=>copyToClipboard(PROFILE.email))});const a=$("#year");a&&(a.textContent=new Date().getFullYear())}function initSheet(){const e=$("#fab"),t=$("#sheet"),o=$("#sheetBackdrop");if(!e||!t||!o)return void setTimeout(()=>showToast("Menu wiring missing on this page."),200);const n=()=>{o.classList.add("show"),t.classList.add("show"),o.style.opacity="1",o.style.pointerEvents="auto",t.style.transform="translateX(-50%) translateY(0)"},r=()=>{o.classList.remove("show"),t.classList.remove("show"),o.style.opacity="",o.style.pointerEvents="",t.style.transform=""};e.addEventListener("click",n,{passive:!0}),o.addEventListener("click",r,{passive:!0});let a=null,i=null;t.addEventListener("touchstart",e=>{a=e.touches[0].clientY,i=a},{passive:!0}),t.addEventListener("touchmove",e=>{if(null!==a){i=e.touches[0].clientY;const o=Math.max(0,i-a);o>0&&(t.style.transition="none",t.style.transform=`translateX(-50%) translateY(${o}px)`)}} ,{passive:!0}),t.addEventListener("touchend",()=>{t.style.transition="",null!==a&&null!==i&&(i-a>90?r():n()),a=null,i=null})}function initModal(){const e=$("#modal"),t=$("#modalBackdrop"),o=$("#modalClose");if(!e||!t||!o)return;const n=()=>{t.classList.remove("show"),e.classList.remove("show"),t.style.opacity="",t.style.pointerEvents="",e.style.opacity="",e.style.pointerEvents="",e.style.transform=""},r=o=>{$("#modalTitle").textContent=o.title||"Project",$("#modalMeta").textContent=o.meta||"",$("#modalDesc").textContent=o.desc||"";const n=$("#modalActions");n.innerHTML="",o.live&&(()=>{const e=document.createElement("a");e.href=o.live,e.target="_blank",e.rel="noopener",e.textContent="Live",n.appendChild(e)})(),o.repo&&(()=>{const e=document.createElement("a");e.href=o.repo,e.target="_blank",e.rel="noopener",e.textContent="Repo",n.appendChild(e)})();const r=document.createElement("button");r.textContent="Share",r.addEventListener("click",async()=>{const e=o.live||location.href;navigator.share?(()=>{try{navigator.share({title:o.title||PROFILE.name,text:o.desc||"",url:e})}catch(e){}})():copyToClipboard(e).then(()=>showToast("Link copied."))}),n.appendChild(r),t.classList.add("show"),e.classList.add("show"),t.style.opacity="1",t.style.pointerEvents="auto",e.style.opacity="1",e.style.pointerEvents="auto",e.style.transform="translate(-50%, -50%) scale(1)"};o.addEventListener("click",n),t.addEventListener("click",n),window.__openProjectModal=r}document.addEventListener("DOMContentLoaded",()=>{wireProfile(),setActiveNav(),initSheet(),initModal(),$all('a[href="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),showToast("Link not set yet.")})})});
